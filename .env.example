# =============================================================================
# Chat Simples Backend - Configuração
# =============================================================================
# Copie este arquivo para .env e ajuste os valores conforme necessário
# cp .env.example .env
# =============================================================================

# --- API Keys ---
ANTHROPIC_API_KEY=sk-ant-xxxxx
RAG_API_KEY=

# --- Ambiente ---
ENVIRONMENT=development
AUTH_ENABLED=true

# --- Database (Centralizado) ---
# Diretório base para dados (default: ./data)
RAG_DATA_DIR=./data
# Nome do arquivo do banco RAG (default: rag_knowledge.db)
RAG_DB_NAME=rag_knowledge.db
# Nome do arquivo do banco de auditoria (default: audit.db)
AUDIT_DB_NAME=audit.db

# --- Embedding Model ---
# Opções: bge-small, bge-base, bge-large
EMBEDDING_MODEL=bge-small

# --- Chunking ---
# Estratégia: fixed_size, sentence, paragraph, semantic
CHUNKING_STRATEGY=semantic
CHUNK_SIZE=500
CHUNK_OVERLAP=50
MIN_CHUNK_SIZE=100

# --- Search ---
DEFAULT_TOP_K=5
FETCH_K_MULTIPLIER=2.0
VECTOR_WEIGHT=0.7
BM25_WEIGHT=0.3

# --- Adaptive Top-K ---
ADAPTIVE_TOPK_ENABLED=true
HIGH_CONFIDENCE_THRESHOLD=0.7
LOW_CONFIDENCE_THRESHOLD=0.5
HIGH_CONFIDENCE_K=2
LOW_CONFIDENCE_MULTIPLIER=1.5

# --- Cache ---
EMBEDDING_CACHE_SIZE=10000
EMBEDDING_CACHE_TTL=3600
RESPONSE_CACHE_SIZE=1000
RESPONSE_CACHE_TTL=300

# --- Performance ---
MAX_CONCURRENT_EMBEDDINGS=10

# --- Rate Limiting ---
RATE_LIMIT_CHAT=30/minute
RATE_LIMIT_CHAT_STREAM=20/minute
RATE_LIMIT_SEARCH=60/minute
RATE_LIMIT_INGEST=10/minute
RATE_LIMIT_DEFAULT=60/minute

# --- Server ---
# HOST=0.0.0.0
# PORT=8001
# CORS_ORIGINS=http://localhost:3000,http://localhost:4200
